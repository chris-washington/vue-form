<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Working with state | VRx Form</title>
    <meta name="description" content="Simplify form validations and handling with VRx Form">
    <meta name="google-site-verification" content="qbfarOJEM-pQ71lpqfc1zqyMXR2-hjW7ehGjF1s9wbU">
  <link rel="icon" href="/vue-form/images/favicon.ico">
  <link rel="icon" href="/vue-form/images/android-chrome-192x192.png" sizes="192x192" type="image/png">
  <link rel="icon" href="/vue-form/images/android-chrome-512x512.png" sizes="512x512" type="image/png">
  <link rel="shortcut icon" href="/vue-form/images/favicon-16x16.png">
  <link rel="manifest" href="/vue-form/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="white">
  <link rel="apple-touch-icon" href="/vue-form/images/apple-touch-icon.png">
    
    <link rel="preload" href="/vue-form/assets/css/0.styles.dae641ed.css" as="style"><link rel="preload" href="/vue-form/assets/js/app.99fddd1f.js" as="script"><link rel="preload" href="/vue-form/assets/js/2.8551c5f2.js" as="script"><link rel="preload" href="/vue-form/assets/js/13.9057f8a1.js" as="script"><link rel="prefetch" href="/vue-form/assets/js/10.9d7fbe46.js"><link rel="prefetch" href="/vue-form/assets/js/11.cdadb876.js"><link rel="prefetch" href="/vue-form/assets/js/12.aaacd424.js"><link rel="prefetch" href="/vue-form/assets/js/14.f30cf23d.js"><link rel="prefetch" href="/vue-form/assets/js/15.da00d7f0.js"><link rel="prefetch" href="/vue-form/assets/js/16.1a64eed9.js"><link rel="prefetch" href="/vue-form/assets/js/3.d7f937d4.js"><link rel="prefetch" href="/vue-form/assets/js/4.b686cd52.js"><link rel="prefetch" href="/vue-form/assets/js/5.a8d58524.js"><link rel="prefetch" href="/vue-form/assets/js/6.0692e66e.js"><link rel="prefetch" href="/vue-form/assets/js/7.ad610453.js"><link rel="prefetch" href="/vue-form/assets/js/8.2692a7f5.js"><link rel="prefetch" href="/vue-form/assets/js/9.193992fa.js">
    <link rel="stylesheet" href="/vue-form/assets/css/0.styles.dae641ed.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-form/" class="home-link router-link-active"><img src="/vue-form/images/logo.png" alt="VRx Form" class="logo"> <span class="site-name can-hide">VRx Form</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-form/guides/" class="nav-link router-link-active">Guides</a></div><div class="nav-item"><a href="/vue-form/api/" class="nav-link">API</a></div><div class="nav-item"><a href="https://github.com/chris-washington/vue-form" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-form/guides/" class="nav-link router-link-active">Guides</a></div><div class="nav-item"><a href="/vue-form/api/" class="nav-link">API</a></div><div class="nav-item"><a href="https://github.com/chris-washington/vue-form" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/vue-form/guides/" class="sidebar-link">Getting Started</a></li><li><a href="/vue-form/guides/form.html" class="sidebar-link">Form setup</a></li><li><a href="/vue-form/guides/fields.html" class="sidebar-link">Field setup</a></li><li><a href="/vue-form/guides/validators.html" class="sidebar-link">Validator setup</a></li><li><a href="/vue-form/guides/submit.html" class="sidebar-link">Handling submit</a></li><li><a href="/vue-form/guides/state.html" class="active sidebar-link">Working with state</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-form/guides/state.html#accessing-errors" class="sidebar-link">Accessing errors</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-form/guides/state.html#accessing-custom-validator-errors" class="sidebar-link">Accessing custom validator errors</a></li></ul></li><li class="sidebar-sub-header"><a href="/vue-form/guides/state.html#priority-message" class="sidebar-link">Priority message</a></li><li class="sidebar-sub-header"><a href="/vue-form/guides/state.html#styling-errors" class="sidebar-link">Styling errors</a></li></ul></li><li><a href="/vue-form/guides/examples.html" class="sidebar-link">Full Example</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="accessing-errors"><a href="#accessing-errors" class="header-anchor">#</a> Accessing errors</h2> <p>One of the more powerful features of VRx Form is automatic error population. As a field that has the v-form-field is interacted with, if erroneous error messages will begin to populate when the field is blurred (clicked away from) unless the field has the attribute <a href="/vue-form/guides/fields.html#active-error">active-error</a>).</p> <p>As errors populate, they will be placed under the <a href="/vue-form/api/#vueform">VRXForm</a> objects: <code>&lt;VRXForm&gt;.state[&lt;name-of-field&gt;].errors.&lt;error-name&gt;</code>. They can also be accessed through the convenient VRXForm object method <code>getError</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token constant">VRXFORM</span><span class="token operator">&gt;</span><span class="token punctuation">.</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token string">'&lt;field_name&gt;'</span><span class="token punctuation">,</span> <span class="token string">'&lt;error_name&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>For instance, if a VRx Form is created on the data variable <code>myForm</code> and it has a field named <code>myInput</code> and that has 2 validators <code>PATTERN</code> and <code>MIN_LENGTH</code>, they can be accessed in the following ways:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// gets pattern error</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span>state<span class="token punctuation">.</span>myInput<span class="token punctuation">.</span>errors<span class="token punctuation">[</span>VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">PATTERN</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// or also gets pattern error</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token string">'myInput'</span><span class="token punctuation">,</span> VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">PATTERN</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// gets minLength error</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span>state<span class="token punctuation">.</span>myInput<span class="token punctuation">.</span>errors<span class="token punctuation">[</span>VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">MIN_LENGTH</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// or also gets minLength</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token string">'myInput'</span><span class="token punctuation">,</span> VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">MIN_LENGTH</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="custom-block danger"><p class="custom-block-title">FATAL</p> <p>Accessing the errors could cause an <code>Null or Undefined Has No Properties</code> error. As a result you should default to using the <code>getError</code> method.</p></div> <p>If you must use the state variable to access the errors, you should always check for the errors existence before accessing it:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> patternError <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>myInput 
              <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>myInput<span class="token punctuation">[</span>VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">PATTERN</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="accessing-custom-validator-errors"><a href="#accessing-custom-validator-errors" class="header-anchor">#</a> Accessing custom validator errors</h3> <p>When you create a custom validator the first argument in the super call is the type name. This name is how you can access the error. For instance, the custom validator with the constructor like the following:</p> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'Axios'</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">TeamExistsValidator</span> <span class="token keyword">extends</span> <span class="token class-name">VRXFormCustomValidator</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// must make super call. Options are optional</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">'teamExists'</span><span class="token punctuation">,</span> message <span class="token operator">||</span> <span class="token string">'This team already exists, please choose another one.'</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">validate</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://api.team.com/exists/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>Would be accessed like this: <code>&lt;VRXForm&gt;.state.&lt;fieldName&gt;.errors.teamExists</code> or better `<VRXForm>.getError('fieldName', 'teamExists');</VRXForm></p> <h2 id="priority-message"><a href="#priority-message" class="header-anchor">#</a> Priority message</h2> <p>There are two ways to access errors. Either on a fields specific error type as shown above or by using the fields <code>priorityMessage</code>:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span>state<span class="token punctuation">.</span>myInput<span class="token punctuation">.</span>errors<span class="token punctuation">.</span>priorityMessage<span class="token punctuation">;</span>

<span class="token comment">// or better</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>myForm<span class="token punctuation">.</span><span class="token function">getError</span><span class="token punctuation">(</span><span class="token string">&quot;myInput&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// defaults to priorityMessage if no name is passed.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>The <code>priorityMessage</code> property is based on the order of validations. If using the <code>priorityMessage</code> field to show errors you should always order the errors in the order you would like to show them (what takes priority over other validations).</p> <p>For instance if a field has 3 validators:</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">{</span>
  type<span class="token operator">:</span> VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">REQUIRED</span><span class="token punctuation">,</span>
  validation<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'Please enter something in this field'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  type<span class="token operator">:</span> VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">PATTERN</span><span class="token punctuation">,</span>
  validation<span class="token operator">:</span> <span class="token regex">/^(new|New)/</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'Should begin with new or New'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">{</span>
  type<span class="token operator">:</span> VRXFormValidatorTypes<span class="token punctuation">.</span><span class="token constant">MIN_LENGTH</span><span class="token punctuation">,</span>
  validation<span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
  message<span class="token operator">:</span> <span class="token string">'Not enough characters. Needs to be at least 8'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>And all 3 validations above fails, the <code>priorityMessage</code> would be <em>&quot;Please enter something in this field&quot;</em>.</p> <p>Or if both the <code>pattern</code> and <code>minLength</code> validations fail the <code>priorityMessage</code> would be <em>&quot;Should begin with new or New&quot;</em>.</p> <h2 id="styling-errors"><a href="#styling-errors" class="header-anchor">#</a> Styling errors</h2> <p>As a field becomes invalid, you can style this field by using the <code>[invalid]</code> selector. <em>Please note that using the built in browser <code>:invalid</code> tag will not work for styling</em>.</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">input[invalid],
select[invalid],
textarea[invalid]</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e74c3c <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>You may need the <code>!important</code> key to override other previous styles.</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/vue-form/guides/submit.html" class="prev">Handling submit</a></span> <span class="next"><a href="/vue-form/guides/examples.html">Full Example</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-form/assets/js/app.99fddd1f.js" defer></script><script src="/vue-form/assets/js/2.8551c5f2.js" defer></script><script src="/vue-form/assets/js/13.9057f8a1.js" defer></script>
  </body>
</html>
